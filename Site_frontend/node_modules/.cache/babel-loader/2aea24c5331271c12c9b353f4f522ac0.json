{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport ComplainDataService from \"@/services/ComplainDataService\";\n/* eslint-disable */\n\nexport default {\n  name: \"complains\",\n  data: function data() {\n    return {\n      complains: [],\n      searchTitle: \"\",\n      page: 1,\n      count: 0,\n      pageSize: 3,\n      pageSizes: [3, 6, 9]\n    };\n  },\n  methods: {\n    getRequestParams: function getRequestParams(searchTitle, page, pageSize) {\n      var params = {};\n\n      if (searchTitle) {\n        params[\"title\"] = searchTitle;\n      }\n\n      if (page) {\n        params[\"page\"] = page - 1;\n      }\n\n      if (pageSize) {\n        params[\"size\"] = pageSize;\n      }\n\n      return params;\n    },\n    retrieveComplain: function retrieveComplain() {\n      var _this = this;\n\n      var params = this.getRequestParams(this.searchTitle, this.page, this.pageSize);\n      ComplainDataService.getAll(params).then(function (response) {\n        var _response$data = response.data,\n            complains = _response$data.complains,\n            totalItems = _response$data.totalItems;\n        _this.complains = complains;\n        _this.count = totalItems;\n      }).catch(function (e) {\n        alert(e);\n      });\n    },\n    handlePageChange: function handlePageChange(value) {\n      this.page = value;\n      this.retrieveComplain();\n    },\n    handlePageSizeChange: function handlePageSizeChange(event) {\n      this.pageSize = event.target.value;\n      this.page = 1;\n      this.retrieveComplain();\n    }\n  },\n  mounted: function mounted() {\n    this.retrieveComplain();\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AAEA;;AACA;EACAA,iBADA;EAEAC,IAFA,kBAEA;IACA;MACAC,aADA;MAEAC,eAFA;MAGAC,OAHA;MAIAC,QAJA;MAKAC,WALA;MAOAC;IAPA;EASA,CAZA;EAaAC;IAEAC,gBAFA,4BAEAN,WAFA,EAEAC,IAFA,EAEAE,QAFA,EAEA;MACA;;MAEA;QACAI;MACA;;MAEA;QACAA;MACA;;MAEA;QACAA;MACA;;MAEA;IACA,CAlBA;IAoBAC,gBApBA,8BAoBA;MAAA;;MAEA,mCACA,gBADA,EAEA,SAFA,EAGA,aAHA;MAMAC,mCAEAC,IAFA,CAEA;QACA;QAAA;QAAA;QAEA;QACA;MACA,CAPA,EAQAC,KARA,CAQA;QACAC;MACA,CAVA;IAWA,CAvCA;IAyCAC,gBAzCA,4BAyCAC,KAzCA,EAyCA;MAEA;MACA;IACA,CA7CA;IA+CAC,oBA/CA,gCA+CAC,KA/CA,EA+CA;MACA;MACA;MAEA;IACA;EApDA,CAbA;EAmEAC,OAnEA,qBAmEA;IACA;EACA;AArEA","names":["name","data","complains","searchTitle","page","count","pageSize","pageSizes","methods","getRequestParams","params","retrieveComplain","ComplainDataService","then","catch","alert","handlePageChange","value","handlePageSizeChange","event","mounted"],"sourceRoot":"src/components/complain","sources":["ComplainList.vue"],"sourcesContent":["<template>\r\n  <div class=\"container mt-3\">\r\n    <div class=\"col-md-8\">\r\n      <div class=\"input-group mb-3\">\r\n        <input type=\"text\" class=\"form-control\" placeholder=\"Search by Title\" v-model=\"searchTitle\" />\r\n        <div class=\"input-group-append\">\r\n          <button class=\"btn btn-outline-secondary\" type=\"button\" @click=\"\r\n            page = 1;\r\n          retrieveComplains();\r\n          \">\r\n            Search\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"col-md-12\">\r\n      <div class=\"mb-3\">\r\n        Items Per Page:\r\n        <select v-model=\"pageSize\" @change=\"handlePageSizeChange($event)\">\r\n          <!-- pageSizes : [3,6,9] -->\r\n          <option v-for=\"size in pageSizes\" :key=\"size\" :value=\"size\">\r\n            {{ size }}\r\n          </option>\r\n        </select>\r\n      </div>\r\n\r\n\r\n      <b-pagination v-model=\"page\" :total-rows=\"count\" :per-page=\"pageSize\" prev-text=\"Prev\" next-text=\"Next\"\r\n        @change=\"handlePageChange\"></b-pagination>\r\n    </div>\r\n\r\n    <table class=\"table\">\r\n      <thead class=\"table-dark\">\r\n        <tr>\r\n          <th scope=\"col\">No</th>\r\n          <th scope=\"col\">Title</th>\r\n          <th scope=\"col\">Content</th>\r\n          <th scope=\"col\">Target Page</th>\r\n          <th scope=\"col\">Writer</th>\r\n          <th scope=\"col\">Actions</th>\r\n        </tr>\r\n      </thead>\r\n\r\n      <tbody v-for=\"(complain, index) in complains\" :key=\"index\">\r\n        <tr>\r\n          <td>{{ complain.id }}</td>\r\n          <td>{{ complain.title }}</td>\r\n          <td>{{ complain.content }}</td>\r\n          <td>{{ complain.targetPage }}</td>\r\n          <td>{{ complain.writer }}</td>\r\n          <td>\r\n            <a :href=\"'/complains/' + complain.id\" class=\"btn btn-primary\">\r\n              Edit\r\n            </a>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ComplainDataService from \"@/services/ComplainDataService\";\r\n\r\n/* eslint-disable */\r\nexport default {\r\n  name: \"complains\",\r\n  data() {\r\n    return {\r\n      complains: [],\r\n      searchTitle: \"\",\r\n      page: 1,\r\n      count: 0,\r\n      pageSize: 3,\r\n\r\n      pageSizes: [3, 6, 9],\r\n    };\r\n  },\r\n  methods: {\r\n\r\n    getRequestParams(searchTitle, page, pageSize) {\r\n      let params = {};\r\n\r\n      if (searchTitle) {\r\n        params[\"title\"] = searchTitle;\r\n      }\r\n\r\n      if (page) {\r\n        params[\"page\"] = page - 1;\r\n      }\r\n\r\n      if (pageSize) {\r\n        params[\"size\"] = pageSize;\r\n      }\r\n\r\n      return params;\r\n    },\r\n\r\n    retrieveComplain() {\r\n\r\n      const params = this.getRequestParams(\r\n        this.searchTitle,\r\n        this.page,\r\n        this.pageSize\r\n      );\r\n\r\n      ComplainDataService.getAll(params)\r\n\r\n        .then((response) => {\r\n          const { complains, totalItems } = response.data;\r\n\r\n          this.complains = complains;\r\n          this.count = totalItems;\r\n        })\r\n        .catch((e) => {\r\n          alert(e);\r\n        });\r\n    },\r\n\r\n    handlePageChange(value) {\r\n\r\n      this.page = value;\r\n      this.retrieveComplain();\r\n    },\r\n\r\n    handlePageSizeChange(event) {\r\n      this.pageSize = event.target.value;\r\n      this.page = 1;\r\n\r\n      this.retrieveComplain();\r\n    },\r\n  },\r\n  mounted() {\r\n    this.retrieveComplain();\r\n  },\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}